@using Hajir.Crm.Sales;
@inherits BaseComponent<SaleQuote>


@*          FixedHeader="true" Height="300px"
*@
<MudTable T="SaleQuoteLineState" Items="@this.Lines" Bordered="true" Dense="true" Striped="true"
          style="font-size:small"
          Class="ma-4 pa-4" @ref="mudTable">

    <HeaderContent>
        <MudTh Style="width:5%">
            ردیف
        </MudTh>
        <MudTh style="width:50%">
            <MudStack Row=true>
                <MudText>
                    کالا/خدمات
                </MudText>
                <MudSpacer />

                <MudButtonGroup Color="Color.Primary" Variant="Variant.Outlined">
                    <MudIconButton Icon="@Icons.Material.Filled.AddBox" />
                    <MudMenu Icon="@Icons.Material.Filled.ArrowDropDown" Style="align-self: auto;">
                        <MudMenuItem OnClick="() => AddProduct(HajirCrmConstants.Schema.Product.ProductTypes.UPS)">یوپی‌اس</MudMenuItem>
                        <MudMenuItem OnClick="() => AddProduct(HajirCrmConstants.Schema.Product.ProductTypes.Battery)">باتری</MudMenuItem>
                        <MudMenuItem OnClick="() => AddProduct(HajirCrmConstants.Schema.Product.ProductTypes.Stabilizer)">استبیلایزر</MudMenuItem>
                        <MudMenuItem OnClick="() => AddProduct(HajirCrmConstants.Schema.Product.ProductTypes.Other,false,true)">متفرقه</MudMenuItem>
                        <MudMenuItem OnClick="() => AddProduct(HajirCrmConstants.Schema.Product.ProductTypes.Other,true)">یاندل</MudMenuItem>
                    </MudMenu>
                </MudButtonGroup>
                @*<MudButtonGroup style="text-align:center" Variant="Variant.Filled">
                <MudIconButton Icon="@Icons.Material.Filled.AddBox" Color="Color.Primary" OnClick="@(()=>InsertLine(null))" />
                <MudIconButton Icon="@Icons.Material.Filled.AddCard" Color="Color.Secondary" OnClick="InsertBundle" />
                </MudButtonGroup>*@
            </MudStack>
        </MudTh>
        <MudTh style="width:8%">تعداد</MudTh>
        <MudTh style="padding:2px;width:15%; ">قیمت</MudTh>
        <MudTh style="width:10%">تخفیف</MudTh>
        @*<MudTh style="width:10%">مالیات</MudTh>*@
        <MudTh style="width:15%;">
            مبلغ
        </MudTh>
        <MudTh style="width:15%;">
            Actions
        </MudTh>
    </HeaderContent>
    <RowTemplate>
        <QuoteProductLineComponent Quote="@this.State" State="context" ViewMode="this.ViewMode" />
    </RowTemplate>
    <PagerContent>
        <MudPaper Class="pa-4" style="background-color:gold">
            <MudText Typo="Typo.h6">
                <MudStack Row=true>
                    <MudSpacer />
                    <MudStack> @Value.ExtendedAmountInText </MudStack>
                    <MudSpacer />
                    <MudStack>جمع</MudStack>
                    <MudStack>  @Value.ExtendedAmount</MudStack>
                    <MudSpacer />
                </MudStack>
            </MudText>


        </MudPaper>

    </PagerContent>
</MudTable>




@code {

}
<style>
    .bundle {
    }

    .mud-table-small-cell {
        padding: 4px !important;
        background-color: lightsteelblue;
    }

    .selected {
        background-color: #1E88E5 !important;
    }

        .selected > td {
            color: white !important;
        }

            .selected > td .mud-input {
                color: white !important;
            }
</style>