@using Hajir.Crm.Sales;
@inherits BaseComponent<SaleQuote>


@*          FixedHeader="true" Height="300px"
*@
<MudTable T="SaleQuoteLineState" Items="@this.Lines" Bordered="true" Dense="true" Striped="true"
          style="font-size:small" CustomFooter="true" FixedHeader="true" Height="300px" FixedFooter="true"
          Class="ma-4 pa-4" @ref="mudTable">

    <HeaderContent>
        <MudTh Style="width:5%">
            ردیف
        </MudTh>
        <MudTh style="width:50%">
            <MudStack Row=true>
                <MudText>
                    کالا/خدمات
                </MudText>
                <MudSpacer />

                <MudButtonGroup Color="Color.Primary" Variant="Variant.Outlined">
                    <MudIconButton Icon="@Icons.Material.Filled.AddBox" />
                    <MudMenu Icon="@Icons.Material.Filled.ArrowDropDown" Style="align-self: auto;">
                        <MudMenuItem OnClick="() => AddProduct(HajirCrmConstants.Schema.Product.ProductTypes.UPS)">یوپی‌اس</MudMenuItem>
                        <MudMenuItem OnClick="() => AddProduct(HajirCrmConstants.Schema.Product.ProductTypes.Battery)">باتری</MudMenuItem>
                        <MudMenuItem OnClick="() => AddProduct(HajirCrmConstants.Schema.Product.ProductTypes.Stabilizer)">استبیلایزر</MudMenuItem>
                        <MudMenuItem OnClick="() => AddProduct(HajirCrmConstants.Schema.Product.ProductTypes.Other,false,true)">متفرقه</MudMenuItem>
                        <MudMenuItem OnClick="() => AddProduct(HajirCrmConstants.Schema.Product.ProductTypes.Other,true)">یاندل</MudMenuItem>
                    </MudMenu>
                </MudButtonGroup>
                @*<MudButtonGroup style="text-align:center" Variant="Variant.Filled">
                <MudIconButton Icon="@Icons.Material.Filled.AddBox" Color="Color.Primary" OnClick="@(()=>InsertLine(null))" />
                <MudIconButton Icon="@Icons.Material.Filled.AddCard" Color="Color.Secondary" OnClick="InsertBundle" />
                </MudButtonGroup>*@
            </MudStack>
        </MudTh>
        <MudTh style="width:8%">تعداد</MudTh>
        <MudTh style="padding:2px;width:15%; ">قیمت</MudTh>
        <MudTh style="width:10%">تخفیف</MudTh>
        @*<MudTh style="width:10%">مالیات</MudTh>*@
        <MudTh style="width:15%;">
            مبلغ
        </MudTh>
        <MudTh style="width:15%;">
            Actions
        </MudTh>
    </HeaderContent>
    <RowTemplate>
        <QuoteProductLineComponent Quote="@this.State" State="context" ViewMode="this.ViewMode" />
    </RowTemplate>
    <FooterContent>

        <MudTFootRow Class="bold-text">
            <MudTd></MudTd>
            <MudTd colspan="3"></MudTd>
            <MudTd>تخفیف</MudTd>
            <MudTd> @this.Value.FormattedDiscount</MudTd>
            <MudTd></MudTd>
        </MudTFootRow>
        <MudTFootRow Class="bold-text">
            <MudTd></MudTd>
            <MudTd colspan="3" ></MudTd>
            <MudTd>مالیات</MudTd>
            <MudTd>@this.Value.FormattedTax</MudTd>
            <MudTd></MudTd>
        </MudTFootRow>
        <MudTFootRow Class="bold-text" Style="font-weight:500">
            <MudTd></MudTd>
            <MudTd colspan="3">@Value.ExtendedAmountInText</MudTd>

            <MudTd>جمع</MudTd>
            <MudTd>@Value.FormattedExtendedAmount</MudTd>
            <MudTd></MudTd>
        </MudTFootRow>


    </FooterContent>
    @* <PagerContent>
    <MudPaper Class="pa-4" style="background-color:gold">
    <MudText Typo="Typo.h6">
    <MudStack Row=true>
    <MudSpacer />
    <MudStack> @Value.ExtendedAmountInText </MudStack>
    <MudSpacer />
    <MudStack>جمع</MudStack>
    <MudStack>  @Value.ExtendedAmount</MudStack>
    <MudSpacer />
    </MudStack>
    </MudText>


    </MudPaper>

    </PagerContent>*@
</MudTable>




@code {

}
<style>
    .bundle {
    }

    .mud-table-small-cell {
        padding: 4px !important;
        background-color: lightsteelblue;
    }

    .selected {
        background-color: #1E88E5 !important;
    }

        .selected > td {
            color: white !important;
        }

            .selected > td .mud-input {
                color: white !important;
            }
</style>

<style type="text/css">
    .mud-table-head .header-centered th {
        text-align: center;
        font-size: 1.2em;
    }

    

    .mud-button-group-root.mud-button-group-text-size-small .mud-button-root.mud-icon-button .mud-icon-root {
        font-size: 1.022rem
    }
    .mud-table-foot .bold-text .mud-table-cell {
        font-weight: 600;
    }
</style>